(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(8),o=n.n(r),s=(n(28),n(13)),i=n(4),u=(n(29),n(30),n(1));function l(e){var t=e.getQuery,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1],s=function(){o("")};return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),s(),t(r)},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",value:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}n(32);function j(e){var t=e.img,n=e.handleImageClick;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t.webformatURL,alt:t.tags,width:"300",className:"ImageGalleryItem-image",onClick:function(){return n(t)}})},t.id)}n(33);function b(e){var t=e.searchResults,n=e.handleImageClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)(j,{img:e,handleImageClick:n},e.id)}))})}n(34);function d(e){var t=e.handleButtonLoadMore;return Object(u.jsx)("button",{type:"button",className:"button",onClick:t,children:"Load more"})}var h=n(11),m=n.n(h),f=n(22),O=n(12),g=n.n(O),p="23192849-392e98e42aea5a2ff7de83472";function x(){return(x=Object(f.a)(m.a.mark((function e(t,n){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("&q=".concat(t,"&page=").concat(n,"&per_page=12&key=").concat(p));case 2:return c=e.sent,a=c.data.hits,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.a.defaults.baseURL="https://pixabay.com/api/?image_type=photo&orientation=horizontal";var v=n(23),y=n.n(v);n(74),n(75);function w(){return Object(u.jsx)("div",{className:"myLoader",children:Object(u.jsx)(y.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})}n(76);function S(e){var t=e.toggleModal,n=e.children;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:n})}),document.getElementById("modalRoot"))}var k=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],h=o[1],m=Object(c.useState)([]),f=Object(i.a)(m,2),O=f[0],g=f[1],p=Object(c.useState)(!1),v=Object(i.a)(p,2),y=v[0],k=v[1],N=Object(c.useState)(!1),I=Object(i.a)(N,2),C=I[0],L=I[1],E=Object(c.useState)(""),F=Object(i.a)(E,2),R=F[0],M=F[1],B=Object(c.useState)(""),G=Object(i.a)(B,2),T=G[0],U=G[1];Object(c.useEffect)((function(){if(n){(k(!0),function(e,t){return x.apply(this,arguments)}(n,j).then((function(e){g((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),1!==j&&D()})).catch((function(e){return console.log(e)}))).finally((function(){return k(!1)}))}}),[n,j]);var D=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},J=function(){L(!C)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{getQuery:function(e){a(e),h(1),g([])}}),O.length>0?Object(u.jsx)(b,{searchResults:O,handleImageClick:function(e){M(e.largeImageURL),U(e.tags),J()}}):""!==n&&!y&&Object(u.jsx)("p",{className:"noResult",children:"No results\ud83d\ude1f"}),O.length>0&&!y&&Object(u.jsx)(d,{handleButtonLoadMore:function(){k(!0),h((function(e){return e+1})),k(!1)}}),y&&Object(u.jsx)(w,{}),C&&Object(u.jsx)(S,{toggleModal:J,children:Object(u.jsx)("img",{src:R,alt:T})})]})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.5a262f97.chunk.js.map