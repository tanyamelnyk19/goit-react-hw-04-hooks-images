{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/image-api.js","components/MyLoader/MyLoader.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["Searchbar","getQuery","useState","query","setQuery","resetForm","className","onSubmit","e","preventDefault","type","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","img","handleImageClick","src","webformatURL","alt","tags","width","onClick","id","ImageGallery","searchResults","map","Button","handleButtonLoadMore","API_KEY","page","a","axios","get","hits","data","defaults","baseURL","MyLoader","color","height","Modal","toggleModal","children","useEffect","handleEscape","code","window","addEventListener","removeEventListener","createPortal","currentTarget","document","getElementById","App","setPage","setSearchResults","loader","setLoader","showModal","setShowModal","largeImageURL","setLargeImageURL","setTags","imageApi","then","res","prevSearchResults","scrollDown","catch","err","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","prevPage","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.5a262f97.chunk.js","sourcesContent":["import { useState } from 'react';\nimport './Searchbar.css';\nimport PropTypes from 'prop-types';\n\nexport default function Searchbar({ getQuery }) {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    resetForm();\n    getQuery(query);\n  };\n\n  const resetForm = () => {\n    setQuery('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleFormSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  getQuery: PropTypes.func,\n};\n","import './ImageGalleryItem.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({ img, handleImageClick }) {\n  return (\n    <li key={img.id} className=\"ImageGalleryItem\">\n      <img\n        src={img.webformatURL}\n        alt={img.tags}\n        width=\"300\"\n        className=\"ImageGalleryItem-image\"\n        onClick={() => handleImageClick(img)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.object.isRequired,\n  handleImageClick: PropTypes.func,\n};\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport './ImageGallery.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ searchResults, handleImageClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {searchResults.map(img => {\n        return (\n          <ImageGalleryItem\n            img={img}\n            key={img.id}\n            handleImageClick={handleImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  searchResults: PropTypes.array.isRequired,\n  handleImageClick: PropTypes.func,\n};\n","import './Button.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ handleButtonLoadMore }) {\n  return (\n    <button type=\"button\" className=\"button\" onClick={handleButtonLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  handleButtonLoadMore: PropTypes.func,\n};\n","import axios from 'axios';\n\nconst API_KEY = '23192849-392e98e42aea5a2ff7de83472';\n\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\nexport default async function getPictures(query, page) {\n  const {\n    data: { hits },\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${API_KEY}`);\n  return hits;\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './MyLoader.css';\n\nexport default function MyLoader() {\n  return (\n    <div className=\"myLoader\">\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\nimport PropTypes from 'prop-types';\n\nexport default function Modal({ toggleModal, children }) {\n  useEffect(() => {\n    const handleEscape = e => {\n      if (e.code === 'Escape') {\n        toggleModal();\n      }\n    };\n    window.addEventListener('keydown', handleEscape);\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [toggleModal]);\n\n  const handleModalClose = e => {\n    if (e.currentTarget === e.target) {\n      toggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleModalClose}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    document.getElementById('modalRoot'),\n  );\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func,\n  children: PropTypes.node,\n};\n","import { useState, useEffect } from 'react';\nimport './App.css';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport imageApi from '../../services/image-api';\nimport MyLoader from '../MyLoader';\nimport Modal from '../Modal';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [searchResults, setSearchResults] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [tags, setTags] = useState('');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const fetchImages = () => {\n      setLoader(true);\n      return imageApi(query, page)\n        .then(res => {\n          setSearchResults(prevSearchResults => [...prevSearchResults, ...res]);\n          if (page !== 1) {\n            scrollDown();\n          }\n        })\n        .catch(err => console.log(err));\n    };\n    fetchImages().finally(() => setLoader(false));\n  }, [query, page]);\n\n  const getQuery = value => {\n    setQuery(value);\n    setPage(1);\n    setSearchResults([]);\n  };\n\n  const handleButtonLoadMore = () => {\n    setLoader(true);\n    setPage(prevPage => prevPage + 1);\n    setLoader(false);\n  };\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleImageClick = img => {\n    setLargeImageURL(img.largeImageURL);\n    setTags(img.tags);\n    toggleModal();\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar getQuery={getQuery} />\n      {searchResults.length > 0 ? (\n        <ImageGallery\n          searchResults={searchResults}\n          handleImageClick={handleImageClick}\n        />\n      ) : (\n        query !== '' && !loader && <p className=\"noResult\">No resultsðŸ˜Ÿ</p>\n      )}\n      {searchResults.length > 0 && !loader && (\n        <Button handleButtonLoadMore={handleButtonLoadMore} />\n      )}\n      {loader && <MyLoader />}\n      {showModal && (\n        <Modal toggleModal={toggleModal}>\n          <img src={largeImageURL} alt={tags} />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}