{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/image-api.js","components/MyLoader/MyLoader.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["Searchbar","state","query","handleInputChange","e","setState","target","value","handleFormSubmit","preventDefault","resetForm","props","getQuery","this","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","img","handleImageClick","src","webformatURL","alt","tags","width","onClick","id","ImageGallery","searchResults","map","Button","handleButtonLoadMore","API_KEY","getPictures","page","a","axios","get","hits","data","defaults","baseURL","MyLoader","color","height","Modal","handleEscape","code","toggleModal","handleModalClose","currentTarget","window","addEventListener","removeEventListener","createPortal","children","document","getElementById","App","loader","showModal","largeImageURL","fetchImages","imageApi","then","res","prevState","catch","err","console","log","scrollDown","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","length","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1cae8417.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './Searchbar.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleFormSubmit = e => {\n    e.preventDefault();\n    this.resetForm();\n    this.props.getQuery(this.state.query);\n  };\n\n  resetForm = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { handleFormSubmit, handleInputChange } = this;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleFormSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  getQuery: PropTypes.func,\n};\n","import './ImageGalleryItem.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({ img, handleImageClick }) {\n  return (\n    <li key={img.id} className=\"ImageGalleryItem\">\n      <img\n        src={img.webformatURL}\n        alt={img.tags}\n        width=\"300\"\n        className=\"ImageGalleryItem-image\"\n        onClick={() => handleImageClick(img)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.object.isRequired,\n  handleImageClick: PropTypes.func,\n};\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport './ImageGallery.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ searchResults, handleImageClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {searchResults.map(img => {\n        return (\n          <ImageGalleryItem\n            img={img}\n            key={img.id}\n            handleImageClick={handleImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  searchResults: PropTypes.array.isRequired,\n  handleImageClick: PropTypes.func,\n};\n","import './Button.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ handleButtonLoadMore }) {\n  return (\n    <button type=\"button\" className=\"button\" onClick={handleButtonLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  handleButtonLoadMore: PropTypes.func,\n};\n","import axios from 'axios';\n\nconst API_KEY = '23192849-392e98e42aea5a2ff7de83472';\n\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\nexport default async function getPictures(query, page) {\n  const {\n    data: { hits },\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${API_KEY}`);\n  return hits;\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './MyLoader.css';\n\nexport default function MyLoader() {\n  return (\n    <div className=\"myLoader\">\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscape);\n  }\n\n  handleEscape = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleModalClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleModalClose}>\n        <div className=\"Modal\">{this.props.children}</div>\n        {/* <img src=\"\" alt=\"\" /> */}\n      </div>,\n      document.getElementById('modalRoot'),\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func,\n  children: PropTypes.node,\n};\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport imageApi from '../../services/image-api';\nimport MyLoader from '../MyLoader';\nimport Modal from '../Modal';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    searchResults: [],\n    loader: false,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages().finally(() => this.setState({ loader: false }));\n    }\n  }\n\n  fetchImages = () => {\n    this.setState({ loader: true });\n    return imageApi(this.state.query, this.state.page)\n      .then(res => {\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          searchResults: [...prevState.searchResults, ...res],\n        }));\n      })\n      .catch(err => console.log(err));\n  };\n\n  getQuery = value =>\n    this.setState({\n      query: value,\n      page: 1,\n      searchResults: [],\n    });\n\n  handleButtonLoadMore = () => {\n    this.fetchImages()\n      .then(() => this.scrollDown())\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  handleImageClick = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n    this.toggleModal();\n  };\n\n  render() {\n    const { loader, searchResults, query, showModal, largeImageURL, tags } =\n      this.state;\n    const { getQuery, handleImageClick, handleButtonLoadMore, toggleModal } =\n      this;\n    return (\n      <div className=\"App\">\n        <Searchbar getQuery={getQuery} />\n        {searchResults.length > 0 ? (\n          <ImageGallery\n            searchResults={searchResults}\n            handleImageClick={handleImageClick}\n          />\n        ) : (\n          query !== '' && !loader && <p className=\"noResult\">No resultsðŸ˜Ÿ</p>\n        )}\n        {searchResults.length > 0 && !loader && (\n          <Button handleButtonLoadMore={handleButtonLoadMore} />\n        )}\n        {loader && <MyLoader />}\n        {showModal && (\n          <Modal toggleModal={toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}